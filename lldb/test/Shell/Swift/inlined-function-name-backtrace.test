# Test Swift function name printing in backtraces.

# XFAIL: system-windows
# RUN: split-file %s %t
# RUN: %target-swiftc -g -O %t/main.swift -o %t.out
# RUN: %lldb -x -b -s %t/commands.input %t.out -o exit 2>&1 \
# RUN:       | FileCheck %s

#--- main.swift
@inline(never)
func baz(_ a: Int) -> Int {
    return a * 2
}

@inline(__always)
func foo(_ a: Int, _ b: Int) -> Int {
 return a * b * baz(a) 
}

func bar() {
    let baz = foo(4, 5)
}

bar()

#--- commands.input
b baz

run
bt

# CHECK: `baz(a={{.*}}) at main.swift:3:14 [opt]
# CHECK: `foo(a={{.*}}, b={{.*}}) at main.swift:8:17 [opt] [inlined]
# CHECK: `bar() at main.swift:12:15 [opt] [inlined]
